var express = require('express');
var cors = require("cors");
var sharp = require('sharp');
var bodyParser = require('body-parser');
//var compression = require('compression');

// This creates the Express app which is configured below.  
var app = express();

// Standard Express stuff
//app.use(logger('dev'));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(cors());
//app.use(compression);

app.get('/upload-image', (req, res) => {
    let base64Image = `data:image/png;base64,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`
    sharp(Buffer.from(base64Image, 'base64'))
    .resize(300, 300, {
        fit: 'inside'
    })
    .toBuffer(function(err, data) { 
        if (err) return res.status(500).send(err)

        return res.status(200).send(data)
    })
})

// Important later!  This exports the app object as a module.
// This comes into play when we deploy the application to 
// Cloud Functions.
app.listen(8000, () => {
    console.log('app listening on port 8000')
})